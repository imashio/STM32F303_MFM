ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"draw_BarGraph.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_ui2d
  18              		.global	__aeabi_i2d
  19              		.global	__aeabi_ddiv
  20              		.global	__aeabi_dmul
  21              		.global	__aeabi_d2uiz
  22              		.section	.text.draw_BarGraph,"ax",%progbits
  23              		.align	1
  24              		.p2align 2,,3
  25              		.global	draw_BarGraph
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  29              		.fpu fpv4-sp-d16
  31              	draw_BarGraph:
  32              	.LFB0:
  33              		.file 1 "/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c"
   1:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** /*
   2:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  * BarGraph.c
   3:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *
   4:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *  Created on: Jan 29, 2018
   5:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *      Author: imashio
   6:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  */
   7:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
   8:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** #include "u8g2.h"		// graphic display library
   9:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  10:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  11:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** #define	bar_font		u8g2_font_7x14B_tf
  12:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  13:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  14:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** void draw_BarGraph(u8g2_t *u8g2, uint8_t x, uint8_t y, uint8_t width, uint8_t height, uint16_t valu
  34              		.loc 1 14 0
  35              		.cfi_startproc
  36              		@ args = 16, pretend = 0, frame = 16
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              	.LVL0:
  39 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 36
  42              		.cfi_offset 4, -36
  43              		.cfi_offset 5, -32
  44              		.cfi_offset 6, -28
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 2


  45              		.cfi_offset 7, -24
  46              		.cfi_offset 8, -20
  47              		.cfi_offset 9, -16
  48              		.cfi_offset 10, -12
  49              		.cfi_offset 11, -8
  50              		.cfi_offset 14, -4
  51 0004 87B0     		sub	sp, sp, #28
  52              	.LCFI1:
  53              		.cfi_def_cfa_offset 64
  54              		.loc 1 14 0
  55 0006 0546     		mov	r5, r0
  56 0008 BDF84440 		ldrh	r4, [sp, #68]
  57 000c 9DF84060 		ldrb	r6, [sp, #64]	@ zero_extendqisi2
  58 0010 BDF84C80 		ldrh	r8, [sp, #76]
  59 0014 0594     		str	r4, [sp, #20]
  60 0016 8946     		mov	r9, r1
  15:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	uint8_t	tick_x;
  16:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFont(u8g2, bar_font);
  61              		.loc 1 16 0
  62 0018 3D49     		ldr	r1, .L6
  63              	.LVL1:
  14:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	uint8_t	tick_x;
  64              		.loc 1 14 0
  65 001a 1446     		mov	r4, r2
  66 001c 1F46     		mov	r7, r3
  67              		.loc 1 16 0
  68 001e FFF7FEFF 		bl	u8g2_SetFont
  69              	.LVL2:
  17:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  18:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 0); // erase color
  70              		.loc 1 18 0
  71 0022 2846     		mov	r0, r5
  72 0024 0021     		movs	r1, #0
  73 0026 FFF7FEFF 		bl	u8g2_SetDrawColor
  74              	.LVL3:
  19:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawBox(u8g2, 0, 0, width, height); // erase bar
  75              		.loc 1 19 0
  76 002a 0022     		movs	r2, #0
  77 002c 3B46     		mov	r3, r7
  78 002e 1146     		mov	r1, r2
  79 0030 0096     		str	r6, [sp]
  80 0032 2846     		mov	r0, r5
  81 0034 FFF7FEFF 		bl	u8g2_DrawBox
  82              	.LVL4:
  20:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  21:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 1); // default color
  83              		.loc 1 21 0
  84 0038 2846     		mov	r0, r5
  85 003a 0121     		movs	r1, #1
  86 003c FFF7FEFF 		bl	u8g2_SetDrawColor
  87              	.LVL5:
  22:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawBox(u8g2, x, y+1, (uint8_t)( value/(double)value_max*width)+1, height-2);
  88              		.loc 1 22 0
  89 0040 4046     		mov	r0, r8
  90 0042 FFF7FEFF 		bl	__aeabi_ui2d
  91              	.LVL6:
  92 0046 CDE90201 		strd	r0, [sp, #8]
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 3


  93 004a 3846     		mov	r0, r7
  94 004c FFF7FEFF 		bl	__aeabi_i2d
  95              	.LVL7:
  96 0050 8246     		mov	r10, r0
  97 0052 0598     		ldr	r0, [sp, #20]
  98 0054 8B46     		mov	fp, r1
  99 0056 FFF7FEFF 		bl	__aeabi_i2d
 100              	.LVL8:
 101 005a DDE90223 		ldrd	r2, [sp, #8]
 102 005e FFF7FEFF 		bl	__aeabi_ddiv
 103              	.LVL9:
 104 0062 5246     		mov	r2, r10
 105 0064 5B46     		mov	r3, fp
 106 0066 FFF7FEFF 		bl	__aeabi_dmul
 107              	.LVL10:
 108 006a FFF7FEFF 		bl	__aeabi_d2uiz
 109              	.LVL11:
 110 006e B11E     		subs	r1, r6, #2
 111 0070 431C     		adds	r3, r0, #1
 112 0072 C9B2     		uxtb	r1, r1
 113 0074 621C     		adds	r2, r4, #1
 114 0076 DBB2     		uxtb	r3, r3
 115 0078 0091     		str	r1, [sp]
 116 007a D2B2     		uxtb	r2, r2
 117 007c 4946     		mov	r1, r9
 118 007e 2846     		mov	r0, r5
 119 0080 FFF7FEFF 		bl	u8g2_DrawBox
 120              	.LVL12:
 121 0084 2644     		add	r6, r6, r4
  23:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  24:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 2); // xor color
 122              		.loc 1 24 0
 123 0086 2846     		mov	r0, r5
 124 0088 0221     		movs	r1, #2
 125 008a F6B2     		uxtb	r6, r6
 126 008c FFF7FEFF 		bl	u8g2_SetDrawColor
 127              	.LVL13:
 128 0090 771E     		subs	r7, r6, #1
 129 0092 FFB2     		uxtb	r7, r7
 130 0094 4FF4FA64 		mov	r4, #2000
 131              	.LBB2:
  25:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	for(uint8_t n=2;n<=8;n++){
 132              		.loc 1 25 0
 133 0098 42F22838 		movw	r8, #9000
 134              	.LVL14:
 135              	.L2:
  26:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 		tick_x = (1000*n)/(double)value_max * width;
 136              		.loc 1 26 0 discriminator 3
 137 009c 2046     		mov	r0, r4
 138 009e FFF7FEFF 		bl	__aeabi_i2d
 139              	.LVL15:
 140 00a2 DDE90223 		ldrd	r2, [sp, #8]
 141 00a6 FFF7FEFF 		bl	__aeabi_ddiv
 142              	.LVL16:
 143 00aa 5246     		mov	r2, r10
 144 00ac 5B46     		mov	r3, fp
 145 00ae FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 4


 146              	.LVL17:
 147 00b2 FFF7FEFF 		bl	__aeabi_d2uiz
 148              	.LVL18:
  27:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 		u8g2_DrawLine(u8g2, tick_x+1, 0, tick_x+1, y+height-1);
 149              		.loc 1 27 0 discriminator 3
 150 00b6 431C     		adds	r3, r0, #1
 151 00b8 DBB2     		uxtb	r3, r3
 152 00ba 04F57A74 		add	r4, r4, #1000
 153              	.LVL19:
 154 00be 0097     		str	r7, [sp]
 155 00c0 1946     		mov	r1, r3
 156 00c2 0022     		movs	r2, #0
 157 00c4 2846     		mov	r0, r5
 158 00c6 FFF7FEFF 		bl	u8g2_DrawLine
 159              	.LVL20:
  25:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	for(uint8_t n=2;n<=8;n++){
 160              		.loc 1 25 0 discriminator 3
 161 00ca 4445     		cmp	r4, r8
 162 00cc E6D1     		bne	.L2
 163              	.LBE2:
  28:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	}
  29:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  30:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 2); // xor color
 164              		.loc 1 30 0
 165 00ce 2846     		mov	r0, r5
 166 00d0 0221     		movs	r1, #2
 167 00d2 FFF7FEFF 		bl	u8g2_SetDrawColor
 168              	.LVL21:
  31:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFontMode(u8g2, 1); // set font mode transparent
 169              		.loc 1 31 0
 170 00d6 2846     		mov	r0, r5
 171 00d8 0121     		movs	r1, #1
 172 00da FFF7FEFF 		bl	u8g2_SetFontMode
 173              	.LVL22:
  32:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawStr(u8g2, x+1, y+height-2, u8g2_u16toa(value,4) );
 174              		.loc 1 32 0
 175 00de 0598     		ldr	r0, [sp, #20]
 176 00e0 0421     		movs	r1, #4
 177 00e2 FFF7FEFF 		bl	u8x8_u16toa
 178              	.LVL23:
 179 00e6 B21E     		subs	r2, r6, #2
 180 00e8 09F10101 		add	r1, r9, #1
 181 00ec 0346     		mov	r3, r0
 182 00ee D2B2     		uxtb	r2, r2
 183 00f0 C9B2     		uxtb	r1, r1
 184 00f2 2846     		mov	r0, r5
 185 00f4 FFF7FEFF 		bl	u8g2_DrawStr
 186              	.LVL24:
  33:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFontMode(u8g2, 0); // set font mode normal
 187              		.loc 1 33 0
 188 00f8 2846     		mov	r0, r5
 189 00fa 0021     		movs	r1, #0
 190 00fc FFF7FEFF 		bl	u8g2_SetFontMode
 191              	.LVL25:
  34:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 1); // default color
 192              		.loc 1 34 0
 193 0100 2846     		mov	r0, r5
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 5


 194 0102 0121     		movs	r1, #1
  35:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** }
 195              		.loc 1 35 0
 196 0104 07B0     		add	sp, sp, #28
 197              	.LCFI2:
 198              		.cfi_def_cfa_offset 36
 199              		@ sp needed
 200 0106 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 201              	.LCFI3:
 202              		.cfi_restore 14
 203              		.cfi_restore 11
 204              		.cfi_restore 10
 205              		.cfi_restore 9
 206              		.cfi_restore 8
 207              		.cfi_restore 7
 208              		.cfi_restore 6
 209              		.cfi_restore 5
 210              		.cfi_restore 4
 211              		.cfi_def_cfa_offset 0
 212              	.LVL26:
  34:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 1); // default color
 213              		.loc 1 34 0
 214 010a FFF7FEBF 		b	u8g2_SetDrawColor
 215              	.LVL27:
 216              	.L7:
 217 010e 00BF     		.align	2
 218              	.L6:
 219 0110 00000000 		.word	u8g2_font_7x14B_tf
 220              		.cfi_endproc
 221              	.LFE0:
 223              		.text
 224              	.Letext0:
 225              		.file 2 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_default_type
 226              		.file 3 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h"
 227              		.file 4 "/Users/imashio/Electronics/ARM/_Library/u8x8.h"
 228              		.file 5 "/Users/imashio/Electronics/ARM/_Library/u8g2.h"
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 draw_BarGraph.c
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s:23     .text.draw_BarGraph:0000000000000000 $t
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s:31     .text.draw_BarGraph:0000000000000000 draw_BarGraph
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccDsW4Yc.s:219    .text.draw_BarGraph:0000000000000110 $d

UNDEFINED SYMBOLS
__aeabi_ui2d
__aeabi_i2d
__aeabi_ddiv
__aeabi_dmul
__aeabi_d2uiz
u8g2_SetFont
u8g2_SetDrawColor
u8g2_DrawBox
u8g2_DrawLine
u8g2_SetFontMode
u8x8_u16toa
u8g2_DrawStr
u8g2_font_7x14B_tf
