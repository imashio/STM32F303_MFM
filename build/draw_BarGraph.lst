ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"draw_BarGraph.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_ui2d
  18              		.global	__aeabi_i2d
  19              		.global	__aeabi_ddiv
  20              		.global	__aeabi_dmul
  21              		.global	__aeabi_d2uiz
  22              		.section	.text.draw_BarGraph,"ax",%progbits
  23              		.align	1
  24              		.global	draw_BarGraph
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  28              		.fpu fpv4-sp-d16
  30              	draw_BarGraph:
  31              	.LFB0:
  32              		.file 1 "/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c"
   1:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** /*
   2:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  * BarGraph.c
   3:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *
   4:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *  Created on: Jan 29, 2018
   5:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  *      Author: imashio
   6:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c ****  */
   7:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
   8:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** #include "u8g2.h"		// graphic display library
   9:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  10:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  11:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** #define	bar_font		u8g2_font_7x14B_tf
  12:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  13:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  14:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** void draw_BarGraph(u8g2_t *u8g2, uint8_t x, uint8_t y, uint8_t width, uint8_t height, uint16_t valu
  33              		.loc 1 14 0
  34              		.cfi_startproc
  35              		@ args = 16, pretend = 0, frame = 16
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37              	.LVL0:
  38 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 36
  41              		.cfi_offset 4, -36
  42              		.cfi_offset 5, -32
  43              		.cfi_offset 6, -28
  44              		.cfi_offset 7, -24
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 2


  45              		.cfi_offset 8, -20
  46              		.cfi_offset 9, -16
  47              		.cfi_offset 10, -12
  48              		.cfi_offset 11, -8
  49              		.cfi_offset 14, -4
  50 0004 87B0     		sub	sp, sp, #28
  51              	.LCFI1:
  52              		.cfi_def_cfa_offset 64
  53 0006 0446     		mov	r4, r0
  54 0008 0F46     		mov	r7, r1
  55 000a 1646     		mov	r6, r2
  56 000c 9B46     		mov	fp, r3
  57 000e 9DF84050 		ldrb	r5, [sp, #64]	@ zero_extendqisi2
  58 0012 BDF844A0 		ldrh	r10, [sp, #68]
  15:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	uint8_t	tick_x;
  16:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFont(u8g2, bar_font);
  59              		.loc 1 16 0
  60 0016 4549     		ldr	r1, .L5
  61              	.LVL1:
  62 0018 FFF7FEFF 		bl	u8g2_SetFont
  63              	.LVL2:
  17:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  18:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 0); // erase color
  64              		.loc 1 18 0
  65 001c 0021     		movs	r1, #0
  66 001e 2046     		mov	r0, r4
  67 0020 FFF7FEFF 		bl	u8g2_SetDrawColor
  68              	.LVL3:
  19:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawBox(u8g2, 0, 0, width, height); // erase bar
  69              		.loc 1 19 0
  70 0024 0095     		str	r5, [sp]
  71 0026 5B46     		mov	r3, fp
  72 0028 0022     		movs	r2, #0
  73 002a 1146     		mov	r1, r2
  74 002c 2046     		mov	r0, r4
  75 002e FFF7FEFF 		bl	u8g2_DrawBox
  76              	.LVL4:
  20:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  21:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 1); // default color
  77              		.loc 1 21 0
  78 0032 0121     		movs	r1, #1
  79 0034 2046     		mov	r0, r4
  80 0036 FFF7FEFF 		bl	u8g2_SetDrawColor
  81              	.LVL5:
  22:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawBox(u8g2, x, y+1, (uint8_t)( value/(double)value_max*width)+1, height-2);
  82              		.loc 1 22 0
  83 003a BDF84C00 		ldrh	r0, [sp, #76]
  84 003e FFF7FEFF 		bl	__aeabi_ui2d
  85              	.LVL6:
  86 0042 8046     		mov	r8, r0
  87 0044 8946     		mov	r9, r1
  88 0046 CDE90289 		strd	r8, [sp, #8]
  89 004a 5046     		mov	r0, r10
  90 004c FFF7FEFF 		bl	__aeabi_i2d
  91              	.LVL7:
  92 0050 4246     		mov	r2, r8
  93 0052 4B46     		mov	r3, r9
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 3


  94 0054 FFF7FEFF 		bl	__aeabi_ddiv
  95              	.LVL8:
  96 0058 8046     		mov	r8, r0
  97 005a 8946     		mov	r9, r1
  98 005c 5846     		mov	r0, fp
  99 005e FFF7FEFF 		bl	__aeabi_i2d
 100              	.LVL9:
 101 0062 0246     		mov	r2, r0
 102 0064 0B46     		mov	r3, r1
 103 0066 CDE90423 		strd	r2, [sp, #16]
 104 006a 4046     		mov	r0, r8
 105 006c 4946     		mov	r1, r9
 106 006e FFF7FEFF 		bl	__aeabi_dmul
 107              	.LVL10:
 108 0072 FFF7FEFF 		bl	__aeabi_d2uiz
 109              	.LVL11:
 110 0076 C3B2     		uxtb	r3, r0
 111 0078 0133     		adds	r3, r3, #1
 112 007a 721C     		adds	r2, r6, #1
 113 007c A91E     		subs	r1, r5, #2
 114 007e C9B2     		uxtb	r1, r1
 115 0080 0091     		str	r1, [sp]
 116 0082 DBB2     		uxtb	r3, r3
 117 0084 D2B2     		uxtb	r2, r2
 118 0086 3946     		mov	r1, r7
 119 0088 2046     		mov	r0, r4
 120 008a FFF7FEFF 		bl	u8g2_DrawBox
 121              	.LVL12:
  23:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  24:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 2); // xor color
 122              		.loc 1 24 0
 123 008e 0221     		movs	r1, #2
 124 0090 2046     		mov	r0, r4
 125 0092 FFF7FEFF 		bl	u8g2_SetDrawColor
 126              	.LVL13:
 127              	.LBB2:
  25:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	for(uint8_t n=2;n<=8;n++){
 128              		.loc 1 25 0
 129 0096 4FF00208 		mov	r8, #2
 130 009a 22E0     		b	.L2
 131              	.LVL14:
 132              	.L3:
  26:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 		tick_x = (1000*n)/(double)value_max * width;
 133              		.loc 1 26 0 discriminator 3
 134 009c 4FF47A70 		mov	r0, #1000
 135 00a0 00FB08F0 		mul	r0, r0, r8
 136 00a4 FFF7FEFF 		bl	__aeabi_i2d
 137              	.LVL15:
 138 00a8 DDE90223 		ldrd	r2, [sp, #8]
 139 00ac FFF7FEFF 		bl	__aeabi_ddiv
 140              	.LVL16:
 141 00b0 0246     		mov	r2, r0
 142 00b2 0B46     		mov	r3, r1
 143 00b4 DDE90401 		ldrd	r0, [sp, #16]
 144 00b8 FFF7FEFF 		bl	__aeabi_dmul
 145              	.LVL17:
 146 00bc FFF7FEFF 		bl	__aeabi_d2uiz
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 4


 147              	.LVL18:
 148 00c0 C1B2     		uxtb	r1, r0
 149              	.LVL19:
  27:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 		u8g2_DrawLine(u8g2, tick_x+1, 0, tick_x+1, y+height-1);
 150              		.loc 1 27 0 discriminator 3
 151 00c2 0131     		adds	r1, r1, #1
 152              	.LVL20:
 153 00c4 C9B2     		uxtb	r1, r1
 154              	.LVL21:
 155 00c6 AB19     		adds	r3, r5, r6
 156 00c8 DBB2     		uxtb	r3, r3
 157 00ca 013B     		subs	r3, r3, #1
 158 00cc DBB2     		uxtb	r3, r3
 159 00ce 0093     		str	r3, [sp]
 160 00d0 0B46     		mov	r3, r1
 161 00d2 0022     		movs	r2, #0
 162 00d4 2046     		mov	r0, r4
 163              	.LVL22:
 164 00d6 FFF7FEFF 		bl	u8g2_DrawLine
 165              	.LVL23:
  25:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	for(uint8_t n=2;n<=8;n++){
 166              		.loc 1 25 0 discriminator 3
 167 00da 08F10108 		add	r8, r8, #1
 168              	.LVL24:
 169 00de 5FFA88F8 		uxtb	r8, r8
 170              	.LVL25:
 171              	.L2:
  25:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	for(uint8_t n=2;n<=8;n++){
 172              		.loc 1 25 0 is_stmt 0 discriminator 1
 173 00e2 B8F1080F 		cmp	r8, #8
 174 00e6 D9D9     		bls	.L3
 175              	.LBE2:
  28:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	}
  29:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 
  30:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 2); // xor color
 176              		.loc 1 30 0 is_stmt 1
 177 00e8 0221     		movs	r1, #2
 178 00ea 2046     		mov	r0, r4
 179 00ec FFF7FEFF 		bl	u8g2_SetDrawColor
 180              	.LVL26:
  31:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFontMode(u8g2, 1); // set font mode transparent
 181              		.loc 1 31 0
 182 00f0 0121     		movs	r1, #1
 183 00f2 2046     		mov	r0, r4
 184 00f4 FFF7FEFF 		bl	u8g2_SetFontMode
 185              	.LVL27:
  32:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_DrawStr(u8g2, x+1, y+height-2, u8g2_u16toa(value,4) );
 186              		.loc 1 32 0
 187 00f8 3544     		add	r5, r5, r6
 188 00fa EDB2     		uxtb	r5, r5
 189 00fc 0421     		movs	r1, #4
 190 00fe 5046     		mov	r0, r10
 191 0100 FFF7FEFF 		bl	u8x8_u16toa
 192              	.LVL28:
 193 0104 023D     		subs	r5, r5, #2
 194 0106 791C     		adds	r1, r7, #1
 195 0108 0346     		mov	r3, r0
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 5


 196 010a EAB2     		uxtb	r2, r5
 197 010c C9B2     		uxtb	r1, r1
 198 010e 2046     		mov	r0, r4
 199 0110 FFF7FEFF 		bl	u8g2_DrawStr
 200              	.LVL29:
  33:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetFontMode(u8g2, 0); // set font mode normal
 201              		.loc 1 33 0
 202 0114 0021     		movs	r1, #0
 203 0116 2046     		mov	r0, r4
 204 0118 FFF7FEFF 		bl	u8g2_SetFontMode
 205              	.LVL30:
  34:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** 	u8g2_SetDrawColor(u8g2, 1); // default color
 206              		.loc 1 34 0
 207 011c 0121     		movs	r1, #1
 208 011e 2046     		mov	r0, r4
 209 0120 FFF7FEFF 		bl	u8g2_SetDrawColor
 210              	.LVL31:
  35:/Users/imashio/Electronics/ARM/_Library/draw_BarGraph.c **** }
 211              		.loc 1 35 0
 212 0124 07B0     		add	sp, sp, #28
 213              	.LCFI2:
 214              		.cfi_def_cfa_offset 36
 215              		@ sp needed
 216 0126 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 217              	.LVL32:
 218              	.L6:
 219 012a 00BF     		.align	2
 220              	.L5:
 221 012c 00000000 		.word	u8g2_font_7x14B_tf
 222              		.cfi_endproc
 223              	.LFE0:
 225              		.text
 226              	.Letext0:
 227              		.file 2 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_default_type
 228              		.file 3 "/usr/local/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h"
 229              		.file 4 "/Users/imashio/Electronics/ARM/_Library/u8x8.h"
 230              		.file 5 "/Users/imashio/Electronics/ARM/_Library/u8g2.h"
ARM GAS  /var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 draw_BarGraph.c
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s:23     .text.draw_BarGraph:0000000000000000 $t
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s:30     .text.draw_BarGraph:0000000000000000 draw_BarGraph
/var/folders/v3/wysfpd052nz8jkbx04pk0ym80000gn/T//ccPW5gLI.s:221    .text.draw_BarGraph:000000000000012c $d

UNDEFINED SYMBOLS
__aeabi_ui2d
__aeabi_i2d
__aeabi_ddiv
__aeabi_dmul
__aeabi_d2uiz
u8g2_SetFont
u8g2_SetDrawColor
u8g2_DrawBox
u8g2_DrawLine
u8g2_SetFontMode
u8x8_u16toa
u8g2_DrawStr
u8g2_font_7x14B_tf
